# Redis-dos-poc
Redis数据库存在dos漏洞poc
问题现象：
fuzz攻击redis服务端口，攻击几分钟后，内存暴涨耗尽服务器内存，服务重启，服务器断链，操作系统重启，服务不可用
 

问题分析：

原理参考https://blog.csdn.net/weixin_44305700/article/details/123611656

攻击期间，登录redis服务端，使用info命令查询内存增长点，找出是redis服务端的输出缓冲区占用内存。

 

Redis 服务端的输出缓冲区：
暂存的是 Redis 主线程要返回给客户端的数据。
主线程返回给客户端的数据，既有简单且大小固定的 OK 响应（例如，执行 SET 命令）或报错信息（比如认证失败），也有大小不固定的、包含具体数据的执行结果（例如，执行 HGET 命令）。

 
并发启动20个连接，使用info Clients命令登录redis查询，所有客户端中输出缓冲区占用的最大内存是76M
 
Redis内存增长了1.4G=20个连接 x 76M，证明内存增长全部是输出缓冲区。
 
由于redis三方件默认配置未限制输出缓冲区，所以随着时间推移，输出缓冲区会无限制增长。
输出缓冲区缓存的内容如下：
 
由于redis服务端开启了密码认证，而攻击脚本连接redis时未输入密码，故服务端的响应是“NOAUTH Authentication required”


